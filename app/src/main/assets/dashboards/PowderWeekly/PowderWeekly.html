<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Powder Weekly - Cement Demand Dashboard</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        function CementDemandDashboard() {
  // Data calculated from concrete mix formulas and product demand
  const data = {
    'BRENTWOOD': [
      { date: '09/30', cement: 38.90, flyash: 8.36, slag: 8.68 },
      { date: '10/01', cement: 36.83, flyash: 7.67, slag: 6.69 },
      { date: '10/02', cement: 27.66, flyash: 6.38, slag: 8.51 },
      { date: '10/03', cement: 18.14, flyash: 4.17, slag: 5.58 },
      { date: '10/04', cement: 15.06, flyash: 3.49, slag: 4.65 }
    ],
    'PITTSBURG': [
      { date: '09/30', cement: 23.20, flyash: 4.11, slag: 5.47 },
      { date: '10/01', cement: 15.99, flyash: 3.67, slag: 4.89 },
      { date: '10/02', cement: 101.18, flyash: 19.36, slag: 9.17 },
      { date: '10/03', cement: 28.84, flyash: 5.82, slag: 4.35 },
      { date: '10/04', cement: 0.31, flyash: 0.07, slag: 0.09 }
    ]
  };

  const getDayLabel = (date) => {
    const days = ['Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
    const dateMap = {
      '09/30': 0,
      '10/01': 1,
      '10/02': 2,
      '10/03': 3,
      '10/04': 4
    };
    return `${days[dateMap[date]]} ${date}`;
  };

  const PlantSection = ({ plantName, plantData }) => {
    const totals = plantData.reduce((acc, day) => ({
      cement: acc.cement + day.cement,
      flyash: acc.flyash + day.flyash,
      slag: acc.slag + day.slag
    }), { cement: 0, flyash: 0, slag: 0 });

    return (
      <div className="mb-8">
        <h2 className="text-2xl font-bold mb-4 text-gray-800">{plantName}</h2>
        <div className="overflow-x-auto shadow-lg rounded-lg">
          <table className="min-w-full bg-white">
            <thead>
              <tr className="bg-gray-800 text-white">
                <th className="px-4 py-3 text-left font-semibold">Material</th>
                {plantData.map((day, idx) => (
                  <th key={idx} className="px-4 py-3 text-center font-semibold">
                    {getDayLabel(day.date)}
                  </th>
                ))}
                <th className="px-4 py-3 text-center font-semibold bg-gray-900">TOTAL</th>
              </tr>
            </thead>
            <tbody>
              {/* Cement Row */}
              <tr className="border-b hover:bg-green-50 transition-colors">
                <td className="px-4 py-3 font-semibold bg-green-600 text-white">
                  Cement
                </td>
                {plantData.map((day, idx) => (
                  <td key={idx} className="px-4 py-3 text-center bg-green-100">
                    <span className="font-semibold text-green-800">{day.cement.toFixed(2)}</span>
                    <span className="text-xs text-gray-600 ml-1">tons</span>
                  </td>
                ))}
                <td className="px-4 py-3 text-center bg-green-200">
                  <span className="font-bold text-green-900 text-lg">{totals.cement.toFixed(2)}</span>
                  <span className="text-xs text-gray-700 ml-1">tons</span>
                </td>
              </tr>
              
              {/* Flyash Row */}
              <tr className="border-b hover:bg-red-50 transition-colors">
                <td className="px-4 py-3 font-semibold bg-red-600 text-white">
                  Flyash
                </td>
                {plantData.map((day, idx) => (
                  <td key={idx} className="px-4 py-3 text-center bg-red-100">
                    <span className="font-semibold text-red-800">{day.flyash.toFixed(2)}</span>
                    <span className="text-xs text-gray-600 ml-1">tons</span>
                  </td>
                ))}
                <td className="px-4 py-3 text-center bg-red-200">
                  <span className="font-bold text-red-900 text-lg">{totals.flyash.toFixed(2)}</span>
                  <span className="text-xs text-gray-700 ml-1">tons</span>
                </td>
              </tr>
              
              {/* Slag Row */}
              <tr className="border-b hover:bg-yellow-50 transition-colors">
                <td className="px-4 py-3 font-semibold bg-yellow-500 text-white">
                  Slag
                </td>
                {plantData.map((day, idx) => (
                  <td key={idx} className="px-4 py-3 text-center bg-yellow-100">
                    <span className="font-semibold text-yellow-800">{day.slag.toFixed(2)}</span>
                    <span className="text-xs text-gray-600 ml-1">tons</span>
                  </td>
                ))}
                <td className="px-4 py-3 text-center bg-yellow-200">
                  <span className="font-bold text-yellow-900 text-lg">{totals.slag.toFixed(2)}</span>
                  <span className="text-xs text-gray-700 ml-1">tons</span>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    );
  };

  return (
    <div className="min-h-screen bg-gradient-to-br from-gray-100 to-gray-200 p-8">
      <div className="max-w-7xl mx-auto">
        <div className="bg-white rounded-xl shadow-2xl p-8 mb-8">
          <h1 className="text-4xl font-bold text-center mb-2 text-gray-900">
            Cement / Flyash / Slag Demand
          </h1>
          <p className="text-center text-gray-600 text-lg mb-6">
            5-Day Forecast by Plant
          </p>
          <div className="flex justify-center gap-8 text-sm">
            <div className="flex items-center gap-2">
              <div className="w-4 h-4 bg-green-600 rounded"></div>
              <span className="text-gray-700">Cement</span>
            </div>
            <div className="flex items-center gap-2">
              <div className="w-4 h-4 bg-red-600 rounded"></div>
              <span className="text-gray-700">Flyash</span>
            </div>
            <div className="flex items-center gap-2">
              <div className="w-4 h-4 bg-yellow-500 rounded"></div>
              <span className="text-gray-700">Slag</span>
            </div>
          </div>
        </div>

        <PlantSection plantName="PITTSBURG" plantData={data.PITTSBURG} />
        <PlantSection plantName="BRENTWOOD" plantData={data.BRENTWOOD} />
        
        <div className="mt-8 p-6 bg-blue-50 border-l-4 border-blue-500 rounded-lg shadow">
          <p className="text-sm text-gray-700">
            <strong>Note:</strong> All quantities are displayed in tons. Raw material requirements are calculated 
            based on concrete mix formulas and actual order quantities. Values include cement, flyash, and slag components only.
          </p>
        </div>
      </div>
    </div>
  );
}

        // Render the component
        ReactDOM.render(<CementDemandDashboard />, document.getElementById('root'));
    </script>
</body>
</html>